**ADR: 2025-11.1 - Выбор технологии программирования серверной части**

**Дата:** 19 ноября 2025 г.

**Статус:** Принято

**Контекст:** 

При разработке серверной части сервиса парковки необходимо выбрать технологию программирования, которая обеспечит высокую производительность, масштабируемость, надежность и безопасность системы. Особое внимание уделяется обработке большого количества одновременных запросов, интеграции с платежными системами и работе в режиме реального времени.

**Рассмотренные варианты:**

1. **Go:** Современный язык с простым синтаксисом, отличной поддержкой многозадачности и высокой производительностью.
2. **Java:** Зрелый язык с мощной экосистемой, отличной производительностью и проверенной надежностью для enterprise-решений.
3. **C#/.NET:** Мощная платформа с богатой экосистемой, хорошей производительностью и сильной типизацией.
4. **Node.js:** JavaScript на сервере с событийно-ориентированной архитектурой, подходящей для I/O-нагрузки.

**Решение:**

Выбран C# с платформой .NET 8.

**Обоснование:**

- **Высокая производительность:** .NET 8 демонстрирует производительность на уровне Go и Rust в бенчмарках, особенно для веб-приложений.
- **Эффективная многозадачность:** Async/await и современные конструкции параллелизма обеспечивают эффективную обработку множества одновременных запросов.
- **Богатая экосистема:** Широкая поддержка микросервисов через ASP.NET Core, встроенная поддержка контейнеризации, отличные ORM (Entity Framework) и библиотеки для работы с событиями.
- **Кроссплатформенность:** .NET работает на Linux, Windows и macOS, что обеспечивает гибкость развертывания.
- **Корпоративная надежность:** Сильная статическая типизация, проверенные практики и долгосрочная поддержка от Microsoft.
- **Интеграционные возможности:** Отличная поддержка различных баз данных, кэширования, очередей сообщений и облачных сервисов.
- **Безопасность:** Встроенные механизмы безопасности и соответствие современным стандартам.

**Почему не другие варианты:**

- **Go:** Хотя Go отлично подходит для высоконагруженных сетевых приложений, .NET предоставляет более богатую экосистему и более зрелые инструменты для enterprise-разработки.
- **Java:** Более сложная настройка и большие требования к памяти по сравнению с современным .NET.
- **Node.js:** Недостаточная производительность для CPU-интенсивных операций и слабая типизация TypeScript по сравнению с C#.

**Последствия:**

- Все серверные микросервисы будут разрабатываться на C# с использованием .NET 8 и ASP.NET Core.
- Необходимо организовать обучение команды современным практикам .NET и микросервисной архитектуре.
- Требуется выбрать и стандартизировать стэк технологий: Entity Framework для работы с данными, MassTransit для событий, Polly для устойчивости.
- Необходимо внедрить статический анализ кода (Roslyn Analyzers) и инструменты тестирования (xUnit, NSubstitute).
- Следует настроить CI/CD pipeline с поддержкой контейнеризации и оркестрации в Kubernetes.
- Требуется обеспечить мониторинг производительности и использование Application Insights для сбора телеметрии.