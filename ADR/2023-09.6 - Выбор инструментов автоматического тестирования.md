**ADR: 2025-11.4 - Выбор инструментов автоматического тестирования**

**Дата:** 19 ноября 2025 г.

**Статус:** Принято

**Контекст:**

Для обеспечения качества и надежности сервиса парковки необходимо внедрить комплексную систему автоматического тестирования. Требуется покрыть тестированием бэкенд-сервисы на Go, клиентское приложение на React Native, а также обеспечить интеграционное и end-to-end тестирование.

**Рассмотренные варианты:**

1. **Бэкенд тестирование:** Стандартный testing package Go, testify, ginkgo
2. **Фронтенд тестирование:** Jest, React Testing Library, Cypress
3. **Мобильное тестирование:** Detox, Appium, Maestro
4. **API тестирование:** Postman/Newman, Karate
5. **Нагрузочное тестирование:** k6, Gatling, JMeter

**Решение:**

Принята следующая стратегия тестирования:

- **Бэкенд (Go):** Стандартный testing package + testify для assertions + testcontainers для интеграционных тестов
- **Фронтенд (React Native):** Jest + React Testing Library для unit-тестов, Detox для e2e тестов
- **API тестирование:** Newman (CLI для Postman коллекций)
- **Нагрузочное тестирование:** k6

**Обоснование:**

- **Единая экосистема:** Выбранные инструменты хорошо интегрируются с существующим технологическим стеком (Go, React Native)
- **Производительность:** k6 написан на Go и показывает отличную производительность при нагрузочном тестировании
- **Стабильность e2e тестов:** Detox специально разработан для React Native и обеспечивает стабильные end-to-end тесты
- **CI/CD интеграция:** Все выбранные инструменты легко интегрируются в pipeline непрерывной интеграции
- **Сообщество и поддержка:** Инструменты имеют активное сообщество и хорошую документацию
- **Экономическая эффективность:** k6 и большинство других инструментов имеют бесплатные версии с богатым функционалом

**Последствия:**

- Необходимо разработать стратегию тестирования с определением уровней покрытия (unit, integration, e2e)
- Требуется настройка тестового окружения с изолированными базами данных
- Необходимо внедрить тестовые данные и моки для внешних сервисов (платежные системы)
- Нужно обеспечить мониторинг покрытия кода тестами и качества тестов
- Требуется обучение команды работе с выбранными инструментами
- Необходимо интегрировать выполнение тестов в CI/CD pipeline
- Следует установить стандарты написания тестов для обеспечения единого стиля